<!DOCTYPE html>
<html ng-app="escola">

<head>
    <meta charset='UTF-8'>

    <title>Escola</title>
    <link rel="stylesheet" type="text/css" href="Boletim/boletim.css">
    <link rel="stylesheet" type="text/css" href="lib/bootstrap-4.4.1-dist/css/bootstrap.css">
    

    <script src="lib/angular-1.7.9/angular.js"></script>
    <script src="lib/teste.js"></script>
    <script src="js/app.js"></script>
    <script src="Boletim/boletimController.js"></script>
    

</head>

<body ng-controller="escolaController">
    <div class="jumbotron">
        <h3>{{app}}</h3>
        <form name="boletimForm">
            <select class="form-control" ng-model="aluno" ng-options="aluno.nome for aluno in alunos">
                <option value="">Selecione o aluno desejado</option>
            </select>
        </form>
        <table class="table table-striped">
            <tr>
                <th>Materia</th>
                <th>1ยบ Bim</th>
                <th>2ยบ Bim</th>
                <th>3ยบ bim</th>
                <th>4ยบ bim</th>
                <th>Media</th>
            </tr>
            <tr ng-class="{'selecionado negrito': boletim.selecionado}" ng-repeat="boletim in boletins">
                <td>{{boletim.materias}}</td>
                <td><input class="input" ng-model="boletim.bim1" type="text" ng-change="onChange(boletim)"
                        ng-disabled="isEditable()" value="{{boletim.bim1}}"></td>
                <td><input class="input" ng-model="boletim.bim2" type="text" ng-change="onChange(boletim)"
                        ng-disabled="isEditable()" value="{{boletim.bim2}}"></td>
                <td><input class="input" ng-model="boletim.bim3" type="text" ng-change="onChange(boletim)"
                        ng-disabled="isEditable()" value="{{boletim.bim3}}"></td>
                <td><input class="input" ng-model="boletim.bim4" type="text" ng-change="onChange(boletim)"
                        ng-disabled="isEditable()" value="{{boletim.bim4}}"></td>
                <td><input class="input" ng-disabled="isEditable()" value="{{media(boletim)}}"></td>

            </tr>
        </table>

        <hr />

        <!-- <input class="form-control" type="text" ng-model="contato.nome" name ="nome" placeholder="Nome" ng-required="true" />
            <input class="form-control" type="text" ng-model="contato.telefone" name ="telefone" placeholder="Telefone"
                ng-required="true" ng-pattern="/^\d{1,2}.\d{2}$/" /> -->

        </form>
        <div ng-show="boletimForm.aluno.$invalid && contatoForm.nome.$dirty" class="alert alert-danger">Por favor
            preencha o nome</div>
        <!-- <div ng-show="boletimForm.telefone.$invalid && contatoForm.telefone.$dirty" class="alert alert-danger">Por favor preencha o telefone</div>
        <div ng-show="boletimForm.telefone.$error.pattern" class="alert alert-danger">O campo deve ter o formato: XX.XX</div> -->


        <hr>
        <div>
            <button class="btn btn-primary" ng-click="carregarBoletinsDoAluno(aluno.id)">Buscar</button>
            <button class="btn btn-primary" ng-click="editable(false)">Editar</button>
            <button class="btn btn-primary" ng-click="exportarBoletim(aluno.id);">Exportar</button>
            <button class="btn btn-primary" ng-click="salvarBoletins(boletins, aluno.id)">Salvar</button>
        </div>


    </div>

</body>

</html>